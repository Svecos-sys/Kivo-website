<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Kivo Check – Step-by-Step</title>
<script src="https://cdn.tailwindcss.com">
let touchStartX = null;

document.addEventListener('touchstart', function(e) {
  touchStartX = e.changedTouches[0].screenX;
}, false);

document.addEventListener('touchend', function(e) {
  if (touchStartX === null) return;
  let touchEndX = e.changedTouches[0].screenX;
  let diff = touchStartX - touchEndX;
  if (Math.abs(diff) > 50) {
    if (diff > 0 && currentStep < steps.length - 1) {
      nextBtn.click();
    } else if (diff < 0 && currentStep > 0) {
      backBtn.click();
    }
  }
  touchStartX = null;
}, false);


// Optional: animate a loader before redirection
const loading = document.createElement("div");
loading.className = "fixed inset-0 flex items-center justify-center bg-white bg-opacity-70 text-2xl font-semibold z-50 hidden";
loading.id = "loadingOverlay";
loading.innerHTML = "Calculating your Kivo Score...";
document.body.appendChild(loading);

function showLoader() {
  document.getElementById("loadingOverlay").classList.remove("hidden");
}

nextBtn.addEventListener("click", () => {
  if (currentStep === steps.length - 1) {
    showLoader();
  }
});

</script>
<style>
    .step { display: none; }
    .step.active { display: block; animation: fade 0.5s ease-in-out; }
    @keyframes fade {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
<meta content="Kivo is your AI-powered mortgage assistant helping you check affordability, understand your score, and prepare for your home buying journey." name="description"/>
<style>
@keyframes fadeSlide {
  from {opacity: 0; transform: translateY(-10px);}
  to {opacity: 1; transform: translateY(0);}
}
.kivoIntroBox {
  animation: fadeSlide 0.6s ease-out;
}
</style>
<style>
  input[type=number]::-webkit-inner-spin-button,
  input[type=number]::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }
  input[type=number] {
    -moz-appearance: textfield;
  }
</style>
</head>
<body class="bg-white text-gray-800 font-sans">
<header class="sticky top-0 bg-white z-50 px-6 py-4 flex justify-between items-center shadow" id="mainHeader">
<a class="text-xl font-bold text-cyan-500" href="index.html">Kivo</a>
<nav class="flex items-center space-x-6 text-sm font-medium">
<a class="text-graphite hover:text-cyan-500" href="how-it-works.html">How it Works</a>
<a class="text-graphite hover:text-cyan-500" href="about.html">About</a>
<a class="text-graphite hover:text-cyan-500" href="faq.html">FAQs</a>
<a class="text-graphite hover:text-cyan-500" href="contact.html">Contact</a>
<a class="text-graphite hover:text-cyan-500" href="privacy.html">Privacy</a>
<a class="bg-cyan-500 text-white px-4 py-2 rounded hover:bg-cyan-700 transition" href="kivo-check.html">Kivo Score</a>
</nav>
</header>
<section>
<div class="bg-cyan-50 border border-cyan-100 rounded-md p-4 text-sm text-gray-800 mb-6 flex items-start space-x-3 kivoIntroBox">
<img alt="Kivo avatar" class="w-10 h-10 rounded-full shadow-sm" src="https://placehold.co/48x48?text=K"/>
<div class="kivoIntroBox">
<p class="font-semibold text-cyan-500 mb-1">Hi, I’m Kivo 👋</p>
<p>I’ll guide you through everything you need to know. Whether you're checking your affordability or exploring mortgage options — I’ve got your back.</p>
</div>
</div>
<section class="max-w-xl mx-auto py-10 px-6">
<h1 class="text-3xl font-bold text-center mb-4">Your Kivo Check</h1>
<p class="text-center text-gray-600 mb-8">We’ll ask you a few short questions to personalise your Kivo Score.</p>
<div class="w-full bg-gray-200 rounded-full h-2.5 mb-6">
<div class="bg-gradient-to-r from-emerald to-cerulean h-2.5 rounded-full transition-all duration-500 ease-in-out shadow-inner" id="progressBar" style="width: 20%"></div>
</div>
<div class="space-y-6" id="steps">
<div class="step active" data-step="0">
<label class="block mb-2 font-medium">💼 What’s your annual income?</label>
<input class="w-full p-3 border rounded" inputmode="numeric" name="income" pattern="[0-9]*" placeholder="e.g. £42,000" type="number"/>
</div>
<div class="step" data-step="1">
<label class="block mb-2 font-medium">🏦 How much have you saved for a deposit?</label>
<input class="w-full p-3 border rounded" inputmode="numeric" name="deposit" pattern="[0-9]*" placeholder="e.g. £10,000" type="number"/>
</div>
<div class="step" data-step="2">
<label class="block mb-2 font-medium">🏠 What’s your current monthly rent?</label>
<input class="w-full p-3 border rounded" inputmode="numeric" name="rent" pattern="[0-9]*" placeholder="e.g. £800" type="number"/>
</div>
<div class="step" data-step="3">
<label class="block mb-2 font-medium">📉 Do you have any existing debt?</label>
<select class="w-full p-3 border rounded" name="debt">
<option value="">Select one</option>
<option value="Yes">Yes</option>
<option value="No">No</option>
</select>
</div>
<div class="step" data-step="4">
<label class="block mb-2 font-medium">💳 How’s your credit history?</label>
<select class="w-full p-3 border rounded" name="credit">
<option value="">Select one</option>
<option value="Good">Good</option>
<option value="Fair">Fair</option>
<option value="Poor">Poor</option>
</select>
</div>
</div>
<div class="flex justify-between items-center mt-10">
<button class="text-cyan-500 font-medium hover:underline hidden" id="backBtn">← Back</button>
<button class="bg-cyan-500 text-white px-6 py-2 rounded hover:bg-cyan-700" id="nextBtn">Next</button>
</div>
<div class="text-center text-sm text-gray-500 mt-6" id="stepIndicator">Step 1 of 5</div>
</section>
<script>
  const steps = document.querySelectorAll(".step");
  const nextBtn = document.getElementById("nextBtn");
  const backBtn = document.getElementById("backBtn");
  const stepIndicator = document.getElementById("stepIndicator");

  let currentStep = 0;

  
function showStep(index) {
    const progress = ((index + 1) / steps.length) * 100;
    document.getElementById("progressBar").style.width = progress + "%";

    steps.forEach((step, i) => {
      step.classList.toggle("active", i === index);
    });
    backBtn.style.display = index > 0 ? "inline-block" : "none";
    nextBtn.textContent = index === steps.length - 1 ? "See My Score" : "Next";
    stepIndicator.textContent = `Step ${index + 1} of ${steps.length}`;
  }

  nextBtn.addEventListener("click", () => {
    const input = steps[currentStep].querySelector("input, select");
    if (!input.value) {
      input.classList.add("border-red-500");
      return;
    } else {
      input.classList.remove("border-red-500");
    }

    if (currentStep < steps.length - 1) {
      currentStep++;
      showStep(currentStep);
    } else {
      // Gather data
      const data = {};
      document.querySelectorAll("input, select").forEach(input => {
        data[input.name] = isNaN(input.value) ? input.value : Number(input.value);
      });
      localStorage.setItem("kivoFormData", JSON.stringify(data));
      window.location.href = "kivo-score.html";
    }
  });

  backBtn.addEventListener("click", () => {
    if (currentStep > 0) {
      currentStep--;
      showStep(currentStep);
    }
  });

  showStep(currentStep);

let touchStartX = null;

document.addEventListener('touchstart', function(e) {
  touchStartX = e.changedTouches[0].screenX;
}, false);

document.addEventListener('touchend', function(e) {
  if (touchStartX === null) return;
  let touchEndX = e.changedTouches[0].screenX;
  let diff = touchStartX - touchEndX;
  if (Math.abs(diff) > 50) {
    if (diff > 0 && currentStep < steps.length - 1) {
      nextBtn.click();
    } else if (diff < 0 && currentStep > 0) {
      backBtn.click();
    }
  }
  touchStartX = null;
}, false);


// Optional: animate a loader before redirection
const loading = document.createElement("div");
loading.className = "fixed inset-0 flex items-center justify-center bg-white bg-opacity-70 text-2xl font-semibold z-50 hidden";
loading.id = "loadingOverlay";
loading.innerHTML = "Calculating your Kivo Score...";
document.body.appendChild(loading);

function showLoader() {
  document.getElementById("loadingOverlay").classList.remove("hidden");
}

nextBtn.addEventListener("click", () => {
  if (currentStep === steps.length - 1) {
    showLoader();
  }
});

</script>
</section>
<!-- Floating Kivo Chat Bubble -->
<div class="fixed bottom-6 right-6 bg-cyan-500 text-white px-4 py-3 rounded-full shadow-lg cursor-pointer hover:bg-cyan-700 transition text-sm z-50" id="kivoChatBubble">
  💬 Need help? Kivo’s here.
</div>
<script>
  document.getElementById('kivoChatBubble').addEventListener('click', function () {
    alert("Hi! I'm Kivo 👋 Ask me anything about mortgages. This is just a placeholder — full chat assistant coming soon.");
  });
</script>
</body>
</html>