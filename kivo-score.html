<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Kivo Score â€“ from your AI mortgage assistant</title>
<script src="https://cdn.tailwindcss.com">
  const breakdown = document.getElementById("scoreBreakdown");
  let badges = [];

  if (data.income >= 40000) badges.push("ðŸ’¼ Strong income");
  if (data.deposit >= 15000) badges.push("ðŸ’° Great deposit");
  if (data.rent <= 800) badges.push("ðŸ  Low rent-to-income ratio");
  if (data.debt === "No") badges.push("ðŸ“‰ Debt-free");
  if (data.credit === "Good") badges.push("ðŸ’³ Excellent credit");

  breakdown.innerHTML = badges.map(b => `<div class="bg-white border rounded p-3">${b}</div>`).join("");

  document.getElementById("emailForm").addEventListener("submit", function(e) {
    e.preventDefault();
    const email = this.querySelector("input").value;
    const status = document.getElementById("emailStatus");
    status.classList.remove("hidden");
    status.textContent = "Sending your Kivo Score summary to " + email + "...";
    setTimeout(() => {
      status.textContent = "âœ… Sent successfully!";
    }, 1500);
  });

</script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js">
  const breakdown = document.getElementById("scoreBreakdown");
  let badges = [];

  if (data.income >= 40000) badges.push("ðŸ’¼ Strong income");
  if (data.deposit >= 15000) badges.push("ðŸ’° Great deposit");
  if (data.rent <= 800) badges.push("ðŸ  Low rent-to-income ratio");
  if (data.debt === "No") badges.push("ðŸ“‰ Debt-free");
  if (data.credit === "Good") badges.push("ðŸ’³ Excellent credit");

  breakdown.innerHTML = badges.map(b => `<div class="bg-white border rounded p-3">${b}</div>`).join("");

  document.getElementById("emailForm").addEventListener("submit", function(e) {
    e.preventDefault();
    const email = this.querySelector("input").value;
    const status = document.getElementById("emailStatus");
    status.classList.remove("hidden");
    status.textContent = "Sending your Kivo Score summary to " + email + "...";
    setTimeout(() => {
      status.textContent = "âœ… Sent successfully!";
    }, 1500);
  });

</script>
<meta content="Kivo is your AI-powered mortgage assistant helping you check affordability, understand your score, and prepare for your home buying journey." name="description"/>
<style>
@keyframes fadeSlide {
  from {opacity: 0; transform: translateY(-10px);}
  to {opacity: 1; transform: translateY(0);}
}
.kivoIntroBox {
  animation: fadeSlide 0.6s ease-out;
}
</style>
</head>
<body class="bg-white text-gray-800 font-sans">
<header class="sticky top-0 px-6 py-4 shadow bg-blue-50 flex justify-between items-center text-sm" id="mainHeader">
<a class="text-xl font-bold text-cerulean" href="index.html">kivo</a>
<nav class="flex items-center space-x-6 text-sm font-medium">
<a class="hover:text-cerulean" href="how-it-works.html">How it Works</a>
<a class="hover:text-cerulean" href="about.html">About</a>
<a class="hover:text-cerulean" href="faq.html">FAQs</a>
<a class="hover:text-cerulean" href="contact.html">Contact</a>
<a class="hover:text-cerulean" href="privacy.html">Privacy</a>
</nav>
</header>
<section>
<div class="bg-blue-50 border border-blue-100 rounded-md p-4 text-sm text-gray-800 mb-6 flex items-start space-x-3 kivoIntroBox">
<img alt="Kivo avatar" class="w-10 h-10 rounded-full shadow-sm" src="https://placehold.co/48x48?text=K"/>
<div class="kivoIntroBox">
<p class="font-semibold text-cerulean mb-1">Hi, Iâ€™m Kivo ðŸ‘‹</p>
<p>Iâ€™ll guide you through everything you need to know. Whether you're checking your affordability or exploring mortgage options â€” Iâ€™ve got your back.</p>
</div>
</div>
<section class="max-w-2xl mx-auto py-20 px-6 text-center">
<h1 class="text-3xl font-bold mb-4">ðŸŽ‰ Your Kivo Score is...</h1>
<div class="text-6xl font-extrabold text-cerulean" id="scoreReveal">0</div>
<p class="mt-4 text-gray-600">Based on the info you shared, hereâ€™s how you did:</p>
<div class="mt-6 space-y-2 text-left max-w-md mx-auto text-sm" id="scoreBreakdown"></div>
<form class="mt-8 max-w-md mx-auto space-y-4" id="emailForm">
<label class="block font-medium">ðŸ“¬ Want your score emailed?</label>
<input class="w-full p-3 border rounded" placeholder="you@example.com" required="" type="email"/>
<button class="bg-cerulean text-white px-4 py-2 rounded hover:bg-emerald transition" type="submit">Send My Score</button>
<p class="text-xs text-gray-500 pt-2 hidden" id="emailStatus">Sending...</p>
</form>
<div class="mt-10">
<a class="inline-block bg-cerulean text-white px-6 py-3 rounded hover:bg-emerald transition" href="index.html">
      Explore Mortgage Options â†’
    </a>
</div>
</section>
<script>
  const scoreElement = document.getElementById("scoreReveal");
  const data = JSON.parse(localStorage.getItem("kivoFormData")) || {};

  // Dummy calculation for demonstration
  let score = Math.min(950, Math.max(350, Math.floor(
    (Number(data.income || 0) / 1000) +
    (Number(data.deposit || 0) / 500) -
    (Number(data.rent || 0) / 10) -
    (data.debt === 'Yes' ? 50 : 0) +
    (data.credit === 'Good' ? 100 : data.credit === 'Fair' ? 50 : 0)
  )));

  // Animate score reveal
  let current = 0;
  const increment = Math.ceil(score / 60);
  const interval = setInterval(() => {
    current += increment;
    if (current >= score) {
      scoreElement.textContent = score;
      clearInterval(interval);
    } else {
      scoreElement.textContent = current;
    }
  }, 20);

  // Launch confetti
  setTimeout(() => {
    confetti({
      particleCount: 120,
      spread: 80,
      origin: { y: 0.6 }
    });
  }, 600);

  const breakdown = document.getElementById("scoreBreakdown");
  let badges = [];

  if (data.income >= 40000) badges.push("ðŸ’¼ Strong income");
  if (data.deposit >= 15000) badges.push("ðŸ’° Great deposit");
  if (data.rent <= 800) badges.push("ðŸ  Low rent-to-income ratio");
  if (data.debt === "No") badges.push("ðŸ“‰ Debt-free");
  if (data.credit === "Good") badges.push("ðŸ’³ Excellent credit");

  breakdown.innerHTML = badges.map(b => `<div class="bg-white border rounded p-3">${b}</div>`).join("");

  document.getElementById("emailForm").addEventListener("submit", function(e) {
    e.preventDefault();
    const email = this.querySelector("input").value;
    const status = document.getElementById("emailStatus");
    status.classList.remove("hidden");
    status.textContent = "Sending your Kivo Score summary to " + email + "...";
    setTimeout(() => {
      status.textContent = "âœ… Sent successfully!";
    }, 1500);
  });

</script>
</section>
<!-- Floating Kivo Chat Bubble -->
<div class="fixed bottom-6 right-6 bg-cerulean text-white px-4 py-3 rounded-full shadow-lg cursor-pointer hover:bg-emerald transition text-sm z-50" id="kivoChatBubble">
  ðŸ’¬ Need help? Kivoâ€™s here.
</div>
<script>
  document.getElementById('kivoChatBubble').addEventListener('click', function () {
    alert("Hi! I'm Kivo ðŸ‘‹ Ask me anything about mortgages. This is just a placeholder â€” full chat assistant coming soon.");
  });
</script>
</body>
</html>