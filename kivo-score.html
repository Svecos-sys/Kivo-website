<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Kivo Score â€“ from your AI mortgage assistant</title>
  <script src="https://cdn.tailwindcss.com">
  const breakdown = document.getElementById("scoreBreakdown");
  let badges = [];

  if (data.income >= 40000) badges.push("ðŸ’¼ Strong income");
  if (data.deposit >= 15000) badges.push("ðŸ’° Great deposit");
  if (data.rent <= 800) badges.push("ðŸ  Low rent-to-income ratio");
  if (data.debt === "No") badges.push("ðŸ“‰ Debt-free");
  if (data.credit === "Good") badges.push("ðŸ’³ Excellent credit");

  breakdown.innerHTML = badges.map(b => `<div class="bg-white border rounded p-3">${b}</div>`).join("");

  document.getElementById("emailForm").addEventListener("submit", function(e) {
    e.preventDefault();
    const email = this.querySelector("input").value;
    const status = document.getElementById("emailStatus");
    status.classList.remove("hidden");
    status.textContent = "Sending your Kivo Score summary to " + email + "...";
    setTimeout(() => {
      status.textContent = "âœ… Sent successfully!";
    }, 1500);
  });

</script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js">
  const breakdown = document.getElementById("scoreBreakdown");
  let badges = [];

  if (data.income >= 40000) badges.push("ðŸ’¼ Strong income");
  if (data.deposit >= 15000) badges.push("ðŸ’° Great deposit");
  if (data.rent <= 800) badges.push("ðŸ  Low rent-to-income ratio");
  if (data.debt === "No") badges.push("ðŸ“‰ Debt-free");
  if (data.credit === "Good") badges.push("ðŸ’³ Excellent credit");

  breakdown.innerHTML = badges.map(b => `<div class="bg-white border rounded p-3">${b}</div>`).join("");

  document.getElementById("emailForm").addEventListener("submit", function(e) {
    e.preventDefault();
    const email = this.querySelector("input").value;
    const status = document.getElementById("emailStatus");
    status.classList.remove("hidden");
    status.textContent = "Sending your Kivo Score summary to " + email + "...";
    setTimeout(() => {
      status.textContent = "âœ… Sent successfully!";
    }, 1500);
  });

</script>
</head>
<body class="bg-white text-gray-800 font-sans">

<header class="sticky top-0 px-6 py-4 shadow bg-blue-50 flex justify-between items-center" id="mainHeader">
  <a href="index.html" class="text-xl font-bold text-cerulean">kivo</a>
  <nav class="flex items-center space-x-6 text-sm font-medium">
    <a href="how-it-works.html" class="hover:text-cerulean">How it Works</a>
    <a href="about.html" class="hover:text-cerulean">About</a>
    <a href="faq.html" class="hover:text-cerulean">FAQs</a>
    <a href="contact.html" class="hover:text-cerulean">Contact</a>
    <a href="privacy.html" class="hover:text-cerulean">Privacy</a>
  </nav>
</header>

<section>
  <div class="text-center py-6"><img src="https://placehold.co/400x200?text=Illustration" alt="Visual" class="mx-auto mb-4 rounded-md shadow"/></div>
<section class="max-w-2xl mx-auto py-20 px-6 text-center">
  <h1 class="text-3xl font-bold mb-4">ðŸŽ‰ Your Kivo Score is...</h1>
  <div class="text-6xl font-extrabold text-cerulean" id="scoreReveal">0</div>
  
    <p class="mt-4 text-gray-600">Based on the info you shared, hereâ€™s how you did:</p>
    <div id="scoreBreakdown" class="mt-6 space-y-2 text-left max-w-md mx-auto text-sm"></div>

    <form id="emailForm" class="mt-8 max-w-md mx-auto space-y-4">
      <label class="block font-medium">ðŸ“¬ Want your score emailed?</label>
      <input type="email" required placeholder="you@example.com" class="w-full p-3 border rounded" />
      <button type="submit" class="bg-cerulean text-white px-4 py-2 rounded hover:bg-emerald transition">Send My Score</button>
      <p id="emailStatus" class="text-xs text-gray-500 pt-2 hidden">Sending...</p>
    </form>
    

  <div class="mt-10">
    <a href="index.html" class="inline-block bg-cerulean text-white px-6 py-3 rounded hover:bg-emerald transition">
      Explore Mortgage Options â†’
    </a>
  </div>
</section>

<script>
  const scoreElement = document.getElementById("scoreReveal");
  const data = JSON.parse(localStorage.getItem("kivoFormData")) || {};

  // Dummy calculation for demonstration
  let score = Math.min(950, Math.max(350, Math.floor(
    (Number(data.income || 0) / 1000) +
    (Number(data.deposit || 0) / 500) -
    (Number(data.rent || 0) / 10) -
    (data.debt === 'Yes' ? 50 : 0) +
    (data.credit === 'Good' ? 100 : data.credit === 'Fair' ? 50 : 0)
  )));

  // Animate score reveal
  let current = 0;
  const increment = Math.ceil(score / 60);
  const interval = setInterval(() => {
    current += increment;
    if (current >= score) {
      scoreElement.textContent = score;
      clearInterval(interval);
    } else {
      scoreElement.textContent = current;
    }
  }, 20);

  // Launch confetti
  setTimeout(() => {
    confetti({
      particleCount: 120,
      spread: 80,
      origin: { y: 0.6 }
    });
  }, 600);

  const breakdown = document.getElementById("scoreBreakdown");
  let badges = [];

  if (data.income >= 40000) badges.push("ðŸ’¼ Strong income");
  if (data.deposit >= 15000) badges.push("ðŸ’° Great deposit");
  if (data.rent <= 800) badges.push("ðŸ  Low rent-to-income ratio");
  if (data.debt === "No") badges.push("ðŸ“‰ Debt-free");
  if (data.credit === "Good") badges.push("ðŸ’³ Excellent credit");

  breakdown.innerHTML = badges.map(b => `<div class="bg-white border rounded p-3">${b}</div>`).join("");

  document.getElementById("emailForm").addEventListener("submit", function(e) {
    e.preventDefault();
    const email = this.querySelector("input").value;
    const status = document.getElementById("emailStatus");
    status.classList.remove("hidden");
    status.textContent = "Sending your Kivo Score summary to " + email + "...";
    setTimeout(() => {
      status.textContent = "âœ… Sent successfully!";
    }, 1500);
  });

</script>

</body>
</html>